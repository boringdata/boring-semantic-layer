flights:
  table: flights_tbl
  description: "Flight operations data including departure, arrival, and route information"

  dimensions:
    origin:
      expr: _.origin
      description: "Origin airport code (3-letter IATA code)"

    destination:
      expr: _.dest
      description: "Destination airport code (3-letter IATA code)"

    carrier:
      expr: _.carrier
      description: "Airline carrier code"

    flight_date:
      expr: _.arr_time
      description: "Flight arrival date/time"
      is_time_dimension: true
      smallest_time_grain: "TIME_GRAIN_DAY"

  measures:
    total_flights:
      expr: _.count()
      description: "Total number of flights"

    avg_distance:
      expr: _.distance.mean()
      description: "Average flight distance in miles"

    avg_delay:
      expr: _.dep_delay.mean()
      description: "Average departure delay in minutes"

  joins:
    carriers:
      model: carriers
      type: one
      left_on: carrier
      right_on: code

carriers:
  table: carriers_tbl
  description: "Airline carrier information and metadata"

  dimensions:
    code:
      expr: _.code
      description: "Unique carrier code (2-letter IATA code)"

    name:
      expr: _.name
      description: "Full carrier name (e.g., 'American Airlines')"

    nickname:
      expr: _.nickname
      description: "Common nickname or abbreviation for the carrier"

  measures:
    carrier_count:
      expr: _.count()
      description: "Number of unique carriers"
